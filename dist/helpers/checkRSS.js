"use strict";var _rssParser=_interopRequireDefault(require("rss-parser"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const parser=new _rssParser.default;function pubDateToTimestamp(a){return new Date(a).getTime()}function checkRSS(a,b){return new Promise(c=>{const d=b.map(async a=>{let b;try{b=await parser.parseURL(a)}catch(a){b={items:[{error:!0,pubDate:Date.now()}]}}return b.items.map(b=>b.url=a),b});Promise.all(d).then(b=>{const d=b.reduce((a,b)=>a=[...a,...b.items],[]),e=d.filter(b=>pubDateToTimestamp(b.pubDate)>=a);c(e)})})}var _default=checkRSS;exports.default=_default;